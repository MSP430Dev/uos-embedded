#summary Target board: Arduino Diecimila.

[http://www.arduino.cc/en/Main/ArduinoBoardDiecimila http://arduino.cc/en/uploads/Main/ArduinoDiecimilaComponents.jpg]

Плата Arduino Diecimila ([http://arduino.cc/en/uploads/Main/Arduino-Diecimila-schematic.pdf схема]) построена на микроконтроллере ATmega168 ([http://www.atmel.com/dyn/resources/prod_documents/doc2545.pdf спецификация]). Дополнительная информация доступна [http://www.arduino.cc/en/Main/ArduinoBoardDiecimila на сайте производителя].

На плате имеется:
 * 14 цифровых входов/выходов (из них 6 могут быть выходами ШИМ)
 * 6 аналоговых входов с 10-битным аналого-цифровым преобразователем
 * 16-мегагерцовый кварц
 * порт USB, подключенный к асинхронному порту через FTDI USB-to-TTL
 * разъём питания
 * разъём программирования ICSP
 * кнопка сброса

Память:
 * 16 килобайт flash-памяти для программ (из которых 2 килобайта занято начальным загрузчиком)
 * 1 килобайт памяти данных (SRAM)
 * 512 байт неразрушаемой памяти (EEPROM)

Цифровые выходы обеспечивают ток до 40 мА. Некоторые имеют специальные функции: SPI и I2C.
Питание можно брать от USB или от внешнего источника постоянного напряжения +7..12 вольт.

Встроенный начальный загрузчик позволяет загружать в плату программный код без использования специализированного программатора. Он поддерживает стандартный протокол STK500 ([http://www.atmel.com/dyn/resources/prod_documents/doc2525.pdf спецификация]). Можно обходиться без начального загрузчика и прошивать код через разъем программирования ICSP.

Можно прошивать плату мимо начального загрузчика, непосредственно в Flash-память, используя LPT-адаптер STK200 [http://www.masterkit.ru/main/set.php?num=1106 или совместимый] ([http://www.ln.com.ua/~real/avreal/img/stkx00.png схема]). Понадобится шлейф-переходник с [http://olimex.com/dev/images/avr-icsp-10.gif 10-контактного разъёма ISCP] на 6-контактный:
|| *Сигнал* || *ICSP-10* || *ICSP-6* ||
|| MOSI     || 1         || 4        ||
|| +5V      || 2         || 2        ||
|| /RESET   || 5         || 5        ||
|| GND      || 6         || 6        ||
|| SCK      || 7         || 3        ||
|| MISO     || 9         || 1        ||

Восстановить начальный загрузчик можно командами:
{{{
avrdude -cstk200 -patmega168 -e -u -Ulock:w:0x3f:m -Uefuse:w:0x00:m -Uhfuse:w:0xDD:m -Ulfuse:w:0xFF:m
avrdude -cstk200 -patmega168 -Uflash:w:ATmegaBOOT_168_diecimila.hex -Ulock:w:0x0f:m
}}}

= Примеры uOS =
В каталоге [http://code.google.com/p/uos-embedded/source/browse/trunk/examples/avr-arduino-diecimila examples/avr-arduino-diecimila] находятся примеры сборки uOS для Arduino Diecimila.

|| *Тест*                                                                                                               || *Описание*                                                                       || *Память программ*|| *Память данных* ||
|| [http://code.google.com/p/uos-embedded/source/browse/trunk/examples/avr-arduino-diecimila/test_debug.c test_debug.c] || Проверка runtime-библиотеки и отладочной печати. Микроядро отсутствует.          || 350 байт (2%)    || 2 байта (0.2%)  ||
|| [http://code.google.com/p/uos-embedded/source/browse/trunk/examples/avr-arduino-diecimila/test_task.c test_task.c]   || Проверка переключения задач. Одна задача пользователя.                           || 5770 байта (35%) || 483 байта (47%) ||
|| [http://code.google.com/p/uos-embedded/source/browse/trunk/examples/avr-arduino-diecimila/test_timer.c test_timer.c] || Проверка драйвера таймера. Одна задача: программа пользователя. || 8276 байта (51%) || 544 байт (53%)  ||
|| [http://code.google.com/p/uos-embedded/source/browse/trunk/examples/avr-arduino-diecimila/test_uart.c test_uart.c]   || Проверка драйвера UART. Две задачи: программа пользователя и драйвер UART.       || 6092 байта (37%) || 916 байт (89%)  ||
|| [http://code.google.com/p/uos-embedded/source/browse/trunk/examples/avr-arduino-diecimila/test_nvram.c test_nvram.c] || Проверка памяти NVRAM. Две задачи: программа пользователя и драйвер UART.        || 9686 байт (59%)  || 939 байт (92%)  ||

= Сигналы =
Привязка сигналов платы к ножкам процессора:
|| *На плате* || *На процессоре* || *Дополнительные функции* ||
|| Digital 0  || PD0             || RXD            ||
|| Digital 1  || PD1             || TXD            ||
|| Digital 2  || PD2             || INT0           ||
|| Digital 3  || PD3             || OC2B / INT1    ||
|| Digital 4  || PD4             || XCK / T0       ||
|| Digital 5  || PD5             || OC2B / T1      ||
|| Digital 6  || PD6             || OC0A / AIN0    ||
|| Digital 7  || PD7             || AIN1           ||
|| Digital 8  || PB0             || CLKO / ICP1    ||
|| Digital 9  || PB1             || OC1A           ||
|| Digital 10 || PB2             || OC1B / SS      ||
|| Digital 11 || PB3             || OC2A / MOSI    ||
|| Digital 12 || PB4             || MISO           ||
|| Digital 13 || PB5             || SCK            ||
|| Analog 0   || PC0             || ADC0           ||
|| Analog 1   || PC1             || ADC1           ||
|| Analog 2   || PC2             || ADC2           ||
|| Analog 3   || PC3             || ADC3           ||
|| Analog 4   || PC4             || ADC4 / SDA     ||
|| Analog 5   || PC5             || ADC5 / SCL     ||