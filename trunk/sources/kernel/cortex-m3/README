On interrupt, the state of registers is saved in the current task stack.

Before interrupt:	       	Cortex-M3:

        | ///////////// |               | ///////////// |
	|---------------|               |---------------|
   SP-> | ///////////// |      Old SP ->| ///////////// |
	|---------------|               |---------------|
	|               |               |     xPSR      |
	|---------------|               |---------------|
	|               |               |      PC       |
	|---------------|               |---------------|
	|               |               |      LR       |
	|---------------|               |---------------|
	|               |               |      R12      |
	|---------------|               |---------------|
	|               |               |      R3       |
	|---------------|               |---------------|
	|               |               |      R2       |
	|---------------|               |---------------|
	|               |               |      R1       |
	                                |---------------|
	                                |      R0       |
                                        |---------------|
                                        |    BASEPRI    |
                                        |---------------|
                                        |      R11      |
                                        |---------------|
                                        |      R10      |
                                        |---------------|
                                        |      R9       |
                                        |---------------|
                                        |      R8       |
                                        |---------------|
                                        |      R7       |
                                        |---------------|
                                        |      R6       |
                                        |---------------|
                                        |      R5       |
                                        |---------------|
                               New SP ->|      R4       |
                                        |---------------|
                                        |               |
