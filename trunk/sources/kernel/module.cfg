VPATH		= $(MODULEDIR) $(MODULEDIR)/$(ARCH)

OBJS		= itake.o irelease.o iattach.o mutex.o msignal.o mtry.o\
		  main.o tcreate.o tdelete.o texit.o tname.o tprio.o\
		  tsetprio.o tstack.o twait.o mgroup.o\
		  tprivate.o tsetprivate.o tyield.o tdebug.o halt.o\
		  tfpucontrol.o

ifneq (,$(findstring -DARM_CORTEX_M3,$(CFLAGS)))
OBJS		+= machdep-cortex-m3.o
else
OBJS		+= machdep.o
endif

all:		$(OBJS) $(TARGET)/libuos.a($(OBJS))
